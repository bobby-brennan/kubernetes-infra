charts:
  ghost:
    namespace: ghost
    values:
      ghostUsername: $GHOST_USERNAME
      ghostEmail: $GHOST_USERNAME
      ghostPassword: $GHOST_PASSWORD
      service:
        type: ClusterIP
      ghostHost: $GHOST_HOST
      persistence:
        path: /opt/local-path-provisioner
      mariadb:
        db:
          password: $GHOST_PASSWORD
        image:
          debug: true
      ingress:
        enabled: true
        hosts:
          - name: $GHOST_HOST
            tls: true
            tlsSecret: tls-prod-cert-ghost
        annotations:
          kubernetes\.io\/ingress\.class: nginx
          certmanager\.k8s\.io\/cluster-issuer: letsencrypt-prod
          kubernetes\.io\/tls-acme: "true"
          nginx\.ingress\.kubernetes\.io\/proxy-body-size: 5m
    hooks:
      post_install:
        - ../../scripts/retain.sh
